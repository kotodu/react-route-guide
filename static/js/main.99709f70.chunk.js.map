{"version":3,"sources":["components/InputConfig.tsx","fonts/GenShinGothic-Normal.ttf","assets/bypass.png","components/StopOptions.tsx","components/pdf/stops.tsx","assets/lineGray.png","assets/line.png","assets/stopGray.png","assets/stop.png","components/pdf/index.tsx","components/PdfDisplay.tsx","scripts/getDataFromOdpt.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["VIEW","InputConfig","consumerKey","changeKey","htmlFor","className","id","type","aria-describedby","value","onChange","e","target","required","getPolesFromRoutePatterns","routePatterns","poleMap","Map","forEach","pattern","order","pole","set","Array","from","values","StopOptions","selectPoleId","setPole","options","map","optionValue","poleText","name","Stop","stopName","passTypes","lines","passType","src","bypass","bypassImg","passed","getLineEachPattern","stops","getStopEachPattern","Stops","selectStopId","orders","poleInOrder","find","poleIndex","selectPole","selectPoleIndex","Font","register","family","fonts","GenShinNormal","fontStyle","fontWeight","styles","StyleSheet","create","page","backgroundColor","fontFamily","lineHeight","fontSize","section","margin","padding","flexGrow","header","width","textAlign","color","marginHorizontal","RouteGuide","selectOrder","selectName","stopsView","size","style","wrap","PdfDisplay","selectStop","height","joinKeyValue","queryKey","App","useState","setConsumerKey","setPatterns","setStop","inputConfig","newKey","getButton","onClick","operator","busroute","consumerQuery","operatorQuery","routeQuery","path","concat","axios","get","then","response","console","log","data","getBusroutePattern","patterns","pattern0orders","firstStop","getFirstStopId","stopSelect","poleId","leftArea","rightArea","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99709f70.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\ntype Props = {\r\n    consumerKey: string;\r\n    changeKey: (key: string) => void;\r\n};\r\n\r\n/**\r\n * @constant VIEW テキスト\r\n */\r\nconst VIEW = {\r\n    LABEL: \"東京公共交通オープンデータへアクセスするconsumerKey\",\r\n} as const;\r\n\r\n/**\r\n * @method InputConfig\r\n * @param {Props} param0\r\n * @returns\r\n */\r\nconst InputConfig: React.FC<Props> = ({ consumerKey, changeKey }: Props) => {\r\n    return (\r\n        <>\r\n            <label htmlFor=\"consumerKeyInput\" className=\"form-label\">\r\n                {VIEW.LABEL}\r\n            </label>\r\n            <div className=\"input-group mb-3\">\r\n                <span className=\"input-group-text\" id=\"consumerKeyLabel\">\r\n                    acl:consumerKey=\r\n                </span>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"consumerKeyInput\"\r\n                    aria-describedby=\"consumerKeyLabel\"\r\n                    value={consumerKey}\r\n                    onChange={(e) => changeKey(e.target.value)}\r\n                    required\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default InputConfig;\r\n","export default __webpack_public_path__ + \"static/media/GenShinGothic-Normal.cf6ba4c3.ttf\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsSAAALEgHS3X78AAACFElEQVR4nO3TAQ3AMAzAsH78OfcEtiCwIUTKt7sD3B1d4M0gEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAsEgEAwCwSAQDALBIBAMAi8z8wPdDQSNTO/ExgAAAABJRU5ErkJggg==\"","import { OdptBusroutePattern } from \"../@types/odpt\";\r\nexport interface Pole {\r\n    \"odpt:busstopPole\": string;\r\n    \"odpt:note\"?: string;\r\n}\r\ntype Props = {\r\n    routePatterns: OdptBusroutePattern[];\r\n    selectPoleId: string;\r\n    setPole: (poleid: string) => void;\r\n};\r\n\r\n/**\r\n * @method getPolesFromRoutePatterns\r\n * @param {OdptBusroutePattern[]} routePatterns\r\n * @returns {Pole[]}\r\n */\r\nconst getPolesFromRoutePatterns = (\r\n    routePatterns: OdptBusroutePattern[]\r\n): Pole[] => {\r\n    // すべての停留所を格納するMapを作る\r\n    const poleMap = new Map<Pole[\"odpt:busstopPole\"], Pole>();\r\n    routePatterns.forEach((pattern) => {\r\n        const orders = pattern[\"odpt:busstopPoleOrder\"];\r\n        orders.forEach((order) => {\r\n            const pole = {\r\n                \"odpt:busstopPole\": order[\"odpt:busstopPole\"],\r\n                \"odpt:note\": order[\"odpt:note\"],\r\n            };\r\n\r\n            poleMap.set(pole[\"odpt:busstopPole\"], pole);\r\n        });\r\n    });\r\n    const poles = Array.from(poleMap.values());\r\n    return poles;\r\n};\r\n\r\n/**\r\n * @summary 停留所を選択肢にしたselectを返す\r\n * @param param0\r\n */\r\nconst StopOptions = ({ routePatterns, selectPoleId, setPole }: Props) => {\r\n    // routePatternsをもとにpoles配列を作成する\r\n    const poles = getPolesFromRoutePatterns(routePatterns);\r\n\r\n    // poleのSetから選択肢を作成する\r\n    const options = poles.map((pole) => {\r\n        const optionValue = pole[\"odpt:busstopPole\"];\r\n        const poleText = pole[\"odpt:note\"] ?? pole[\"odpt:busstopPole\"];\r\n        return (\r\n            <option value={optionValue} key={optionValue}>\r\n                {poleText}\r\n            </option>\r\n        );\r\n    });\r\n\r\n    // 停留所を選択するselectを返す\r\n    return (\r\n        <select\r\n            name=\"selectedPole\"\r\n            value={selectPoleId}\r\n            onChange={(e) => {\r\n                setPole(e.target.value);\r\n            }}\r\n        >\r\n            {options}\r\n        </select>\r\n    );\r\n};\r\n\r\nexport { StopOptions, getPolesFromRoutePatterns };\r\n","import React from \"react\";\r\nimport {\r\n    Page,\r\n    Text,\r\n    View,\r\n    Document,\r\n    StyleSheet,\r\n    Font,\r\n    Image,\r\n} from \"@react-pdf/renderer\";\r\nimport stopImg from \"../../assets/stop.png\";\r\nimport lineImg from \"../../assets/line.png\";\r\nimport stopGrayImg from \"../../assets/stopGray.png\";\r\nimport lineGrayImg from \"../../assets/lineGray.png\";\r\nimport bypassImg from \"../../assets/bypass.png\";\r\n\r\nimport { OdptBusroutePattern, OdptBusstopPoleOrder } from \"../../@types/odpt\";\r\nimport { getPolesFromRoutePatterns } from \"../StopOptions\";\r\n\r\ntype StopProp = {\r\n    stopName: string;\r\n    passTypes: PassType[];\r\n};\r\ntype StopsProps = {\r\n    routePatterns: OdptBusroutePattern[];\r\n    selectStopId: string;\r\n};\r\n\r\nconst getStopEachPattern = (passType: PassType) => {\r\n    let src = \"\";\r\n    if (passType.bypass) {\r\n        src = bypassImg;\r\n    } else {\r\n        src = passType.passed ? stopGrayImg : stopImg;\r\n    }\r\n    return <Image src={src} />;\r\n};\r\nconst getLineEachPattern = (passType: PassType) => {\r\n    let src = \"\";\r\n    if (passType.bypass) {\r\n        src = bypassImg;\r\n    } else {\r\n        src = passType.passed ? lineGrayImg : lineImg;\r\n    }\r\n    return <Image src={src} />;\r\n};\r\n\r\n// 個別の停留所\r\nconst Stop = ({ stopName, passTypes }: StopProp) => {\r\n    const lines = passTypes.map((passType) => {\r\n        return getLineEachPattern(passType);\r\n    });\r\n    const stops = passTypes.map((passType) => {\r\n        return getStopEachPattern(passType);\r\n    });\r\n\r\n    return (\r\n        <View>\r\n            <Text>{lines}</Text>\r\n            <Text>\r\n                {stops}\r\n                {stopName}\r\n            </Text>\r\n        </View>\r\n    );\r\n};\r\n\r\ntype PassType = {\r\n    /**\r\n     * そもそも標柱を通らない\r\n     */\r\n    bypass: boolean;\r\n\r\n    /**\r\n     * 通過済みかどうか\r\n     */\r\n    passed: boolean;\r\n};\r\n\r\n// 運行系統図の停留所部分\r\nconst Stops = ({ routePatterns, selectStopId }: StopsProps) => {\r\n    // 標柱\r\n    const poles = getPolesFromRoutePatterns(routePatterns);\r\n\r\n    const stops = poles.map((pole) => {\r\n        /**\r\n         * @var {PassType[]} passTypes 各パターンにおける該当停留所の停車index\r\n         * @description もし停車しなければfalseが代入される\r\n         */\r\n        const passTypes = routePatterns.map((pattern) => {\r\n            const orders = pattern[\"odpt:busstopPoleOrder\"];\r\n            const poleInOrder = orders.find((order) => {\r\n                return order[\"odpt:busstopPole\"] === pole[\"odpt:busstopPole\"];\r\n            });\r\n            const poleIndex = poleInOrder?.[\"odpt:index\"] ?? 0;\r\n\r\n            const selectPole = orders.find((order) => {\r\n                return order[\"odpt:busstopPole\"] === selectStopId;\r\n            });\r\n            const selectPoleIndex = selectPole?.[\"odpt:index\"] ?? 0;\r\n            // 選択中停留所indexより、その停留所indexが小さければ、通過している\r\n            // ただし、そもそもpoleIndexが0であれば、経由していない\r\n            return {\r\n                bypass: poleIndex === 0 || selectPoleIndex === 0,\r\n                passed: selectPoleIndex > poleIndex,\r\n            };\r\n        });\r\n        return (\r\n            <Stop\r\n                stopName={pole[\"odpt:note\"] ?? \"\"}\r\n                key={pole[\"odpt:busstopPole\"]}\r\n                passTypes={passTypes}\r\n            />\r\n        );\r\n    });\r\n    return <View>{stops}</View>;\r\n};\r\n\r\nexport default Stops;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsSAAALEgHS3X78AAACJElEQVR4nO3TQRGAMBAEwQR/qEXgoYB5U6luBbuP2TOzTrD3vo84coiZeU54cv1gA/yWQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCAS+rLVeoj4IjbgKS9cAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsSAAALEgHS3X78AAACIUlEQVR4nO3TsRGAMBADQT/99/xUwMWMZ7cCKbjZ3XODmbnjyCV2d2548vxgA/yWQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCASCQCAIBIJAIAgEgkAgCAS+nHNeuG0IjQeO6xkAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport {\r\n    Page,\r\n    Text,\r\n    View,\r\n    Document,\r\n    StyleSheet,\r\n    Font,\r\n} from \"@react-pdf/renderer\";\r\n\r\n// ttf,otf型定義を\r\n// ! : 一部フォントでないと文字化けを起こすので注意\r\n// https://github.com/diegomura/react-pdf/issues/875\r\n// Nasuか源真ゴシックでないと出来ない、という情報すらある\r\nimport GenShinNormal from \"../../fonts/GenShinGothic-Normal.ttf\";\r\nimport { OdptBusroutePattern } from \"../../@types/odpt\";\r\nimport RouteHeaders from \"./routeHeader\";\r\nimport Stops from \"./stops\";\r\n\r\n/**\r\n * @summary 使用するフォントの定義\r\n */\r\nFont.register({\r\n    family: \"源真ゴシック\",\r\n    fonts: [\r\n        {\r\n            src: GenShinNormal,\r\n            fontStyle: \"normal\",\r\n            fontWeight: \"normal\",\r\n        },\r\n    ],\r\n});\r\n\r\n/**\r\n * @summary スタイル定義\r\n */\r\nconst styles = StyleSheet.create({\r\n    page: {\r\n        // flexDirection: \"row\",\r\n        backgroundColor: \"#E4E4E4\",\r\n        fontFamily: \"源真ゴシック\",\r\n        fontWeight: \"normal\",\r\n        lineHeight: 1,\r\n        fontSize: 20,\r\n    },\r\n    section: {\r\n        margin: 10,\r\n        padding: 10,\r\n        flexGrow: 1,\r\n    },\r\n    header: {\r\n        width: \"100%\",\r\n        textAlign: \"center\",\r\n        color: \"white\",\r\n        backgroundColor: \"black\",\r\n        fontSize: 20,\r\n        lineHeight: 1.2,\r\n    },\r\n    stops: {\r\n        marginHorizontal: 10,\r\n        width: \"100%\",\r\n    },\r\n});\r\n\r\ntype Props = {\r\n    routePatterns: OdptBusroutePattern[];\r\n    selectStopId: string;\r\n};\r\n\r\n// PDFオブジェクトの作成\r\nconst RouteGuide = ({ routePatterns, selectStopId }: Props) => {\r\n    const selectPattern = routePatterns?.[0];\r\n    const selectOrders = selectPattern[\"odpt:busstopPoleOrder\"];\r\n    const selectOrder = selectOrders.find((order) => {\r\n        return order[\"odpt:busstopPole\"] === selectStopId;\r\n    });\r\n    const selectIndex = selectOrder?.[\"odpt:index\"] ?? 1;\r\n    const selectName = selectOrder?.[\"odpt:note\"] ?? \"\";\r\n    const stopsView = (\r\n        <Stops routePatterns={routePatterns} selectStopId={selectStopId} />\r\n    );\r\n    return (\r\n        <Document>\r\n            <Page size=\"A4\" style={styles.page} wrap={true}>\r\n                <Text style={styles.header}>\r\n                    運行系統図サンプル【{selectName} 】\r\n                </Text>\r\n                <View style={styles.stops}>{stopsView}</View>\r\n            </Page>\r\n        </Document>\r\n    );\r\n};\r\n\r\nexport default RouteGuide;\r\n","import React from \"react\";\r\nimport { PDFViewer } from \"@react-pdf/renderer\";\r\nimport RouteGuide from \"./pdf/index\";\r\nimport { OdptBusroutePattern } from \"../@types/odpt\";\r\n\r\ntype Props = {\r\n    routePatterns: OdptBusroutePattern[];\r\n    selectStop: string;\r\n};\r\n\r\n/**\r\n * RouteGuidePDFの出力\r\n */\r\nconst PdfDisplay = ({ routePatterns, selectStop }: Props) => {\r\n    return (\r\n        <PDFViewer width=\"100%\" height=\"100%\">\r\n            <RouteGuide routePatterns={routePatterns} selectStopId={selectStop} />\r\n        </PDFViewer>\r\n    );\r\n};\r\n\r\nexport { PdfDisplay };\r\n","import axios from \"axios\";\r\nimport { OdptBusroutePattern } from \"../@types/odpt\";\r\n\r\n// TODO : odptの型定義データ作成。既にあるなら探すこと\r\n// TODO : このあたりのクエリ付与処理を効率化したい\r\n\r\n/**\r\n * @method joinKeyValue\r\n * @param mainUrl \r\n * @param queryKey \r\n * @param value \r\n */\r\nconst joinKeyValue = (\r\n    queryKey: string,\r\n    value: string\r\n) => {\r\n    return (queryKey + \"=\" + value);\r\n}\r\n\r\n/**\r\n * @method getBusroutePattern\r\n * @param operator \r\n * @param busroute \r\n * @param consumerKey \r\n */\r\nconst getBusroutePattern = (\r\n    operator: string,\r\n    busroute: string,\r\n    consumerKey: string\r\n) => {\r\n\r\n    // メインのRequestURL\r\n    const endPoint = \"https://api-tokyochallenge.odpt.org/api/v4/\";\r\n    const requestPath = \"odpt:BusroutePattern?\";\r\n\r\n    // consumerクエリ\r\n    const consumerQueryKey = \"acl:consumerKey\";\r\n    const consumerQuery = joinKeyValue(consumerQueryKey, consumerKey);\r\n\r\n    // operatorクエリ\r\n    const operatorQueryKey = \"odpt:operator\";\r\n    const operatorQuery = \"&\" + joinKeyValue(operatorQueryKey, operator);\r\n\r\n    // routeクエリ\r\n    const routeQueryKey = \"odpt:busroute\";\r\n    const routeQuery = \"&\" + joinKeyValue(routeQueryKey, busroute);\r\n\r\n    const path = endPoint.concat(\r\n        requestPath,\r\n        consumerQuery,\r\n        operatorQuery,\r\n        routeQuery\r\n    );\r\n\r\n    // TODO : axiosのparamの使い方を確認すること\r\n    // 本心ではparamを使いたいが、クオーテーションが含まれてラーに？\r\n    return axios.get(path)\r\n        .then(response => {\r\n            console.log(response)\r\n            return response.data as OdptBusroutePattern[];\r\n        });\r\n}\r\n\r\nexport {\r\n    getBusroutePattern\r\n}","import React, { useState } from \"react\";\r\nimport { OdptBusroutePattern } from \"./@types/odpt\";\r\nimport InputConfig from \"./components/InputConfig\";\r\nimport { PdfDisplay } from \"./components/PdfDisplay\";\r\nimport { StopOptions } from \"./components/StopOptions\";\r\nimport { getBusroutePattern } from \"./scripts/getDataFromOdpt\";\r\n\r\n// 現在は暫定的に事業者を都営に、路線を王57に設定\r\n// TODO : OPERATORの選択や、定数の別ファイル化\r\nconst OPERATOR = \"odpt.Operator:Toei\" as const;\r\nconst ROUTE = \"odpt.Busroute:Toei.Ou57\" as const;\r\n\r\n/**\r\n * Appコンポーネント\r\n */\r\nconst App: React.FC = () => {\r\n    /**\r\n     * @var {string} consumerKey\r\n     * @description 東京公共交通オープンデータチャレンジにアクセスするconsumerKey\r\n     * 完全クライアントサイドで完結させる為、毎回入力させる\r\n     * 本当は他の方法が好ましい\r\n     * setConsumerKeyを経由して値を設定する\r\n     * @see {@link setConsumerKey }\r\n     * @default \"\" 既定値は空文字列(アクセス不能)\r\n     */\r\n    const [consumerKey, setConsumerKey] = useState<string>(\"\");\r\n\r\n    /**\r\n     * @var {OdptBusroutePattern[]} routePatterns\r\n     */\r\n    const [routePatterns, setPatterns] = useState<OdptBusroutePattern[]>([]);\r\n\r\n    /**\r\n     * @var 選択している停留所ID\r\n     * TODO : 停留所名を鍵にしては？\r\n     */\r\n    const [selectStopId, setStop] = useState<string>(\"\");\r\n\r\n    // consumerKey設定\r\n    const inputConfig = (\r\n        <InputConfig\r\n            consumerKey={consumerKey}\r\n            changeKey={(newKey) => {\r\n                setConsumerKey(newKey);\r\n            }}\r\n        />\r\n    );\r\n\r\n    /**\r\n     * @method getFirstStopId\r\n     * @param {OdptBusroutePattern[]} patterns\r\n     * @returns {string} 最初のパターンの最初の停留所ID\r\n     */\r\n    const getFirstStopId = (patterns: OdptBusroutePattern[]): string => {\r\n        const pattern0orders = patterns?.[0]?.[\"odpt:busstopPoleOrder\"];\r\n        const firstStop = pattern0orders?.find((order) => {\r\n            return order[\"odpt:index\"] === 1;\r\n        });\r\n        const poleId = firstStop?.[\"odpt:busstopPole\"] ?? \"\";\r\n        return poleId;\r\n    };\r\n\r\n    // 取得ボタン\r\n    const getButton = (\r\n        <div className=\"my-3\">\r\n            <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                    // routePatternsが変更された場合、最初のパターンのindex1のバス停をセットする\r\n                    // なければ空文字\r\n                    getBusroutePattern(OPERATOR, ROUTE, consumerKey).then(\r\n                        (routePatterns) => {\r\n                            setStop(getFirstStopId(routePatterns));\r\n                            setPatterns(routePatterns);\r\n                        }\r\n                    );\r\n                }}\r\n            >\r\n                GetData\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    // 停留所選択select\r\n    const stopSelect = (\r\n        <div className=\"my-3\">\r\n            <h3>停留所選択</h3>\r\n            <StopOptions\r\n                routePatterns={routePatterns}\r\n                selectPoleId={selectStopId}\r\n                setPole={(poleId) => {\r\n                    setStop(poleId);\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n\r\n    // 左サイドバー\r\n    const leftArea = (\r\n        <aside className=\"col-6 bg-light vh-100\">\r\n            <h1>React-Route-Guide</h1>\r\n            <hr></hr>\r\n            <h2>設定</h2>\r\n            {inputConfig}\r\n            {getButton}\r\n            {stopSelect}\r\n            <p>\r\n                (東京公共交通オープンデータチャレンジにおいて提供されているデータを利用)\r\n            </p>\r\n        </aside>\r\n    );\r\n\r\n    // PDF出力エリア\r\n    const rightArea = (\r\n        <main className=\"col-6\">\r\n            {routePatterns.length > 0 ? (\r\n                <PdfDisplay\r\n                    routePatterns={routePatterns}\r\n                    selectStop={selectStopId ?? \"\"}\r\n                />\r\n            ) : (\r\n                <span>アクセスキーを入力してください</span>\r\n            )}\r\n        </main>\r\n    );\r\n\r\n    return (\r\n        <div className=\"container-fluid vh-100\">\r\n            <div className=\"row\">\r\n                {leftArea}\r\n                {rightArea}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n            getCLS(onPerfEntry);\r\n            getFID(onPerfEntry);\r\n            getFCP(onPerfEntry);\r\n            getLCP(onPerfEntry);\r\n            getTTFB(onPerfEntry);\r\n        });\r\n    }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n// import \"bootstrap\";\r\n// import \"popper.js\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}